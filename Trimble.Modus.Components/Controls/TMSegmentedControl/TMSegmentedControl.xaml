<?xml version="1.0" encoding="utf-8"?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Trimble.Modus.Components.TMSegmentedControl"
             xmlns:local="clr-namespace:Trimble.Modus.Components.Controls.Layouts"
             xmlns:component="clr-namespace:Trimble.Modus.Components"
             xmlns:system="clr-namespace:System;assembly=netstandard"
             x:Name="SegmentedControl">
  <ContentView.Content>
    <Border x:Name="FrameView"
            HeightRequest="32"
            Stroke="{DynamicResource SegmentedControlBorderColor}"
            StrokeThickness="1">
      <Border.Padding>
        <OnIdiom Default="-1"
                 Desktop="0" />
      </Border.Padding>
      <Border.StrokeShape>
        <RoundRectangle CornerRadius="{Binding Source={x:Reference SegmentedControl}, Path=CornerRadius}" />
      </Border.StrokeShape>
      <StackLayout x:Name="TabButtonHolder"
                   Orientation="Horizontal"
                   HorizontalOptions="FillAndExpand"
                   IsEnabled="True"
                   BindableLayout.ItemsSource="{Binding Source={x:Reference SegmentedControl}, Path=SegmentedItems}">
        <BindableLayout.ItemTemplate>
          <DataTemplate>
            <component:TMSegmentedItem Text="{Binding Text}"
                                       HorizontalOptions="FillAndExpand"
                                       Icon="{Binding Icon}"
                                       ShowSeparator="{Binding ShowSeparator}"
                                       IsSelected="{Binding IsSelected}"
                                       ColorTheme="{Binding ColorTheme}"
                                       Size="{Binding Size}">
              <Border.Margin>
                <OnIdiom Default="0"
                         Desktop="-2,0" />
              </Border.Margin>
            </component:TMSegmentedItem>
          </DataTemplate>
        </BindableLayout.ItemTemplate>
      </StackLayout>
    </Border>
  </ContentView.Content>
</ContentView>
